import { config, withDesign } from 'storybook-addon-designs'

import { withTests } from '@storybook/addon-jest';

import {
  Meta,
  Story,
  ArgsTable,
  Description,
  Source,
  Canvas,
} from '@storybook/addon-docs'

import results from '/.jest-test-results.json';

import SCharacteristic from '@/lib-components/SCharacteristic/SCharacteristic.vue'

<Meta
  title="DESIGN SYSTEM/Market/Characteristic"
  component={SCharacteristic}
  decorators={[withDesign, withTests({results})]}
  argTypes={{
    nameIcon: {
      options: [
        'thickness',
        'width',
        'length',
        'diameter',
        'channel',
        'color',
        'thickness-cover',
      ],
      control: { type: 'select' },
    },
    name: { control: 'text' },
    value: { control: 'text' },
  }}
  parameters={{
    design: config({
      type: 'figma',
      url:
        'https://www.figma.com/file/42Xh2qI3qvq2CRkc2HJlwA/MVP-3-Market-Catalog-%E2%80%A2-Product-Page?node-id=1150%3A120',
    }),
    docs: {
      source: {
        type: 'code',
      },
    },
  }}
/>

# Основной признак товара

<Description of={SCharacteristic} />

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { SCharacteristic },
  template:
    `<s-characteristic :nameIcon="nameIcon" :name="name" :value="value" />`,
})

<Canvas withToolbar withSource="none">
  <Story name="SCharacteristic" args={{ name: 'length', value: 2000 }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Пример

<Source
  language="html"
  code={`<s-characteristic :nameIcon="length" name="length" value="2000" />`}
/>

<ArgsTable of={SCharacteristic} />
